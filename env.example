# =============================================================================
# RAG + LangGraph 기반 법률 상담문의 수집 챗봇 시스템
# 환경 변수 설정 예시 파일
# =============================================================================
# 
# 사용 방법:
# 1. 이 파일을 복사하여 .env 파일로 생성하세요
#    Windows: copy env.example .env
#    Linux/Mac: cp env.example .env
# 2. 아래 설정값을 실제 값으로 변경하세요
# 3. .env 파일은 .gitignore에 포함되어 있어 Git에 커밋되지 않습니다
# 
# 주의: 실제 API 키나 비밀번호는 절대 공개 저장소에 커밋하지 마세요

# =============================================================================
# 데이터베이스 설정
# =============================================================================
# MySQL 데이터베이스 연결 정보
# 
# 형식: mysql+pymysql://[사용자명]:[비밀번호]@[호스트]:[포트]/[데이터베이스명]
# 
# 예시:
# DATABASE_URL=mysql+pymysql://root:mypassword@localhost:3306/legal_chat_info_db
# 
# 주의:
# - 비밀번호에 특수문자(@, #, % 등)가 포함된 경우 URL 인코딩이 필요할 수 있습니다
#   예: 비밀번호가 "p@ss#word"인 경우 "p%40ss%23word"
# - Windows에서 백슬래시(\)를 사용하지 마세요. 슬래시(/)를 사용하세요
DATABASE_URL=mysql+pymysql://root:your_password@localhost:3306/legal_chat_info_db

# =============================================================================
# OpenAI API 설정
# =============================================================================
# OpenAI API 키는 GPT 모델과 임베딩 모델을 사용하기 위해 필요합니다
# OpenAI 웹사이트(https://platform.openai.com/api-keys)에서 발급받을 수 있습니다
# 
# 주의: 이 키는 절대 공개 저장소에 커밋하지 마세요
OPENAI_API_KEY=your_openai_api_key_here

# LLM 모델 설정
# 사용 가능한 모델:
# - gpt-4-turbo-preview: 최신 GPT-4 Turbo 모델 (권장, 고품질 응답)
# - gpt-4: 표준 GPT-4 모델
# - gpt-3.5-turbo: 더 빠르고 저렴하지만 품질이 낮음
# 
# 모델 변경 시: OpenAI API에서 지원하는 모델 이름을 정확히 입력하세요
OPENAI_MODEL=gpt-4-turbo-preview

# 임베딩 모델 설정
# 임베딩 모델은 법률 문서와 검색 쿼리를 벡터로 변환하는 데 사용됩니다
# 
# 사용 가능한 모델:
# - text-embedding-3-large: 최신 대형 임베딩 모델 (권장, 높은 정확도)
# - text-embedding-3-small: 더 작고 빠른 모델 (비용 절감)
# - text-embedding-ada-002: 이전 버전 모델
# 
# 참고: 임베딩 모델은 검색 정확도에 직접적인 영향을 미칩니다
OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# =============================================================================
# 벡터 데이터베이스 설정
# =============================================================================
# 벡터 DB는 RAG 문서의 임베딩 벡터를 저장하고 검색하는 데 사용됩니다

# 벡터 DB 타입
# 현재 지원: chroma
# 향후 지원 예정: pinecone, weaviate
VECTOR_DB_TYPE=chroma

# ChromaDB 저장 경로
# ChromaDB는 로컬 파일 시스템에 벡터 데이터를 저장하는 오픈소스 벡터 DB입니다
# 상대 경로 또는 절대 경로를 지정할 수 있습니다
# 예: ./data/vector_db 또는 C:/Users/username/data/vector_db
# 이 디렉토리는 자동으로 생성됩니다
VECTOR_DB_PATH=./data/vector_db

# Embedding 모델 (로컬 사용 시)
# Sentence Transformers 모델을 사용하는 경우 설정
# 예: sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
# OpenAI Embedding을 사용하는 경우 이 설정은 무시됩니다
EMBEDDING_MODEL=sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2

# =============================================================================
# API 서버 설정
# =============================================================================
# FastAPI 서버의 네트워크 및 동작 설정입니다

# API 시크릿 키
# API 인증에 사용되는 시크릿 키입니다
# 임의의 긴 문자열을 생성하여 사용하세요
# 예: openssl rand -hex 32 또는 Python: import secrets; secrets.token_hex(32)
API_SECRET_KEY=your_secret_key_here

# API 호스트 주소
# 0.0.0.0: 모든 네트워크 인터페이스에서 접근 가능 (프로덕션 권장)
# 127.0.0.1 또는 localhost: 로컬에서만 접근 가능 (개발 환경)
# 
# 주의: 프로덕션 환경에서는 방화벽 및 보안 그룹 설정을 확인하세요
API_HOST=0.0.0.0

# API 포트 번호
# 서버가 수신 대기할 포트 번호입니다
# 기본값: 8000
# 다른 포트를 사용하려면 변경하세요 (예: 8080, 3000)
# 
# 주의: 이미 사용 중인 포트를 선택하면 서버 시작이 실패합니다
API_PORT=8000

# CORS 허용 오리진
# 개발 환경: "http://localhost:3000,http://localhost:8080"
# 프로덕션 환경: 특정 도메인만 허용 (쉼표로 구분)
# 예: "https://example.com,https://app.example.com"
# 
# 보안 주의: 프로덕션에서는 반드시 특정 도메인만 허용하세요
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# =============================================================================
# 세션 관리 설정
# =============================================================================
# 채팅 세션의 만료 시간 설정

# 세션 만료 시간 (시간 단위)
# 기본값: 24시간
# 세션이 이 시간 동안 비활성 상태이면 자동으로 만료됩니다
SESSION_EXPIRY_HOURS=24

# =============================================================================
# 로깅 설정
# =============================================================================
# 애플리케이션의 로그 레벨 및 파일 경로를 설정합니다

# 로그 레벨
# 사용 가능한 레벨 (낮은 순서대로):
# - DEBUG: 모든 디버그 정보 포함 (개발 환경)
# - INFO: 일반 정보 메시지 (기본값, 권장)
# - WARNING: 경고 메시지만 기록
# - ERROR: 오류 메시지만 기록
# - CRITICAL: 심각한 오류만 기록
# 
# 프로덕션에서는 INFO 또는 WARNING을 권장합니다
LOG_LEVEL=INFO

# 로그 파일 경로
# 애플리케이션 로그가 저장될 파일 경로입니다
# 상대 경로 또는 절대 경로를 지정할 수 있습니다
# 
# 주의: 로그 디렉토리가 존재하지 않으면 자동으로 생성됩니다
LOG_FILE_PATH=./logs/app.log

# =============================================================================
# 환경 설정
# =============================================================================
# 애플리케이션 실행 환경 설정

# 환경 타입
# - development: 개발 환경 (서버 자동 리로드, 상세 로그)
# - production: 프로덕션 환경 (최적화 모드, 최소 로그)
# - testing: 테스트 환경
ENVIRONMENT=development

# =============================================================================
# Rate Limiting 설정
# =============================================================================
# API 요청 제한 설정

# 분당 최대 요청 수
# 기본값: 60회
# 서버 부하를 방지하기 위한 요청 제한입니다
RATE_LIMIT_PER_MINUTE=60

# =============================================================================
# 추가 설정 (필요시 주석 해제)
# =============================================================================
# 
# # 채널 설정
# DEFAULT_CHANNEL=web
# 
# # 벡터 검색 설정
# MAX_SEARCH_RESULTS=5  # 최대 검색 결과 수
# SEARCH_SIMILARITY_THRESHOLD=0.7  # 유사도 임계값 (0.0 ~ 1.0)
# 
# # 텍스트 청킹 설정
# CHUNK_SIZE=1000  # 텍스트 청크 크기 (토큰 수)
# CHUNK_OVERLAP=200  # 청크 간 겹치는 토큰 수
# 
# # 타임아웃 설정
# GPT_API_TIMEOUT=30  # GPT API 호출 타임아웃 (초)
# DB_QUERY_TIMEOUT=10  # DB 쿼리 타임아웃 (초)

