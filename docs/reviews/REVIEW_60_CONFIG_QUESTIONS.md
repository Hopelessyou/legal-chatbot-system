# Config Questions 검토 보고서

## 검토 대상
- 파일: `config/questions.yaml`
- 검토 일자: 2024년
- 검토 범위: 질문 템플릿, 필드별 질문

---

## ✅ 정상 동작 부분

### 1. 파일 구조 (Lines 1-4)
- ✅ 명확한 파일 헤더 주석
- ✅ YAML 구조가 올바름
- ✅ `questions` 루트 키 존재

### 2. 기본 질문 정의 (Lines 6-12)
- ✅ `default` 섹션에 기본 질문 정의
- ✅ 필수 필드 포함: `incident_date`, `counterparty`, `amount`, `evidence`
- ✅ 추가 필드: `evidence_type`, `additional_info`
- ✅ 명확한 질문 텍스트

### 3. 사건 유형별 질문 (Lines 14-38)
- ✅ `case_types` 섹션으로 사건 유형별 질문 정의
- ✅ 모든 사건 유형 포함: CIVIL, CRIMINAL, FAMILY, ADMIN
- ✅ 사건 유형별로 적절한 질문 텍스트 사용

---

## ⚠️ 발견된 문제점

### 1. 🟢 **낮음**: 일부 사건 유형에서 필드 누락

**문제**: 
- `CIVIL`, `CRIMINAL`, `FAMILY`, `ADMIN` 사건 유형별 질문에서 `evidence_type`과 `additional_info` 필드가 누락되어 있습니다.
- `default` 섹션에는 있지만, 사건 유형별로는 정의되지 않았습니다.

**영향도**: 낮음  
**수정 권장**: 사건 유형별 질문에 누락된 필드 추가 (선택적, default에서 상속됨)

**수정 예시**:
```yaml
questions:
  default:
    incident_date: "사건이 발생한 날짜를 알려주세요."
    counterparty: "계약 상대방은 누구인가요?"
    amount: "문제가 된 금액은 얼마인가요?"
    evidence: "계약서나 관련 증거를 가지고 계신가요?"
    evidence_type: "어떤 증거를 가지고 계신가요? (예: 계약서, 카톡 대화내역, 송금내역, 사진, 영상 등)"
    additional_info: "추가로 알려주실 내용이 있으신가요?"
  
  case_types:
    CIVIL:
      incident_date: "계약이나 사건이 발생한 날짜를 알려주세요."
      counterparty: "계약 상대방은 누구인가요?"
      amount: "문제가 된 금액은 얼마인가요?"
      evidence: "계약서나 관련 증거를 가지고 계신가요?"
      evidence_type: "어떤 증거를 가지고 계신가요? (예: 계약서, 카톡 대화내역, 송금내역 등)"
      additional_info: "추가로 알려주실 내용이 있으신가요?"
    
    CRIMINAL:
      incident_date: "사건이 발생한 날짜를 알려주세요."
      counterparty: "가해자나 관련 인물은 누구인가요?"
      amount: "피해 금액은 얼마인가요?"
      evidence: "관련 증거를 가지고 계신가요? (예: 진단서, 사진, CCTV 등)"
      evidence_type: "어떤 증거를 가지고 계신가요? (예: 진단서, 사진, CCTV, 녹음 등)"
      additional_info: "추가로 알려주실 내용이 있으신가요?"
    
    # ... 나머지 사건 유형도 동일하게 추가
```

---

### 2. 🟢 **낮음**: 질문 텍스트 일관성

**문제**: 일부 질문 텍스트에서 문체가 약간 다릅니다. 예를 들어:
- `default.amount`: "문제가 된 금액은 얼마인가요?"
- `FAMILY.amount`: "관련 금액이 있으신가요?" (질문 형식이 다름)
- `ADMIN.amount`: "관련 금액이 있으신가요?" (질문 형식이 다름)

**영향도**: 낮음  
**수정 권장**: 질문 텍스트 일관성 개선 (선택적)

---

### 3. 🟢 **낮음**: YAML 파일 검증 스키마 부재

**문제**: YAML 파일의 구조를 검증하는 스키마나 스크립트가 없습니다. 잘못된 구조나 누락된 필드가 있어도 런타임에만 발견됩니다.

**영향도**: 낮음  
**수정 권장**: YAML 스키마 검증 추가 (선택적)

---

### 4. 🟢 **낮음**: 주석 부족

**문제**: YAML 파일에 각 필드나 사건 유형에 대한 설명 주석이 부족합니다.

**영향도**: 낮음  
**수정 권장**: 주석 추가 (선택적)

**수정 예시**:
```yaml
# 질문 텍스트 설정 파일
# 필드별 질문 메시지를 정의합니다.
# 
# 구조:
#   questions:
#     default:          # 기본 질문 (모든 사건 유형 공통)
#       field_name: "질문 텍스트"
#     case_types:       # 사건 유형별 질문 (default를 오버라이드)
#       CASE_TYPE:
#         field_name: "질문 텍스트"

questions:
  # 기본 질문 (모든 사건 유형 공통)
  # 사건 유형별 질문이 없으면 이 값을 사용합니다.
  default:
    # 사건 발생일
    incident_date: "사건이 발생한 날짜를 알려주세요."
    # 상대방 정보
    counterparty: "계약 상대방은 누구인가요?"
    # 금액 정보
    amount: "문제가 된 금액은 얼마인가요?"
    # 증거 보유 여부
    evidence: "계약서나 관련 증거를 가지고 계신가요?"
    # 증거 유형
    evidence_type: "어떤 증거를 가지고 계신가요? (예: 계약서, 카톡 대화내역, 송금내역, 사진, 영상 등)"
    # 추가 정보
    additional_info: "추가로 알려주실 내용이 있으신가요?"
```

---

## 📊 검토 요약

### 발견된 문제
- 🟢 **낮음**: 4개 (필드 누락, 질문 텍스트 일관성, YAML 검증 스키마, 주석 부족)

### 우선순위별 수정 권장
1. 🟢 **낮음**: 사건 유형별 질문에 누락된 필드 추가 (선택적)
2. 🟢 **낮음**: 질문 텍스트 일관성 개선 (선택적)
3. 🟢 **낮음**: 주석 추가 (선택적)
4. 🟢 **낮음**: YAML 검증 스키마 추가 (선택적)

---

## 🔧 수정 제안

### 수정 1: 누락된 필드 추가 및 일관성 개선

```yaml
# 질문 텍스트 설정 파일
# 필드별 질문 메시지를 정의합니다.

questions:
  # 기본 질문 (모든 사건 유형 공통)
  default:
    incident_date: "사건이 발생한 날짜를 알려주세요."
    counterparty: "계약 상대방은 누구인가요?"
    amount: "문제가 된 금액은 얼마인가요?"
    evidence: "계약서나 관련 증거를 가지고 계신가요?"
    evidence_type: "어떤 증거를 가지고 계신가요? (예: 계약서, 카톡 대화내역, 송금내역, 사진, 영상 등)"
    additional_info: "추가로 알려주실 내용이 있으신가요?"
  
  # 사건 유형별 질문 (필요시 오버라이드)
  case_types:
    CIVIL:
      incident_date: "계약이나 사건이 발생한 날짜를 알려주세요."
      counterparty: "계약 상대방은 누구인가요?"
      amount: "문제가 된 금액은 얼마인가요?"
      evidence: "계약서나 관련 증거를 가지고 계신가요?"
      evidence_type: "어떤 증거를 가지고 계신가요? (예: 계약서, 카톡 대화내역, 송금내역 등)"
      additional_info: "추가로 알려주실 내용이 있으신가요?"
    
    CRIMINAL:
      incident_date: "사건이 발생한 날짜를 알려주세요."
      counterparty: "가해자나 관련 인물은 누구인가요?"
      amount: "피해 금액은 얼마인가요?"
      evidence: "관련 증거를 가지고 계신가요? (예: 진단서, 사진, CCTV 등)"
      evidence_type: "어떤 증거를 가지고 계신가요? (예: 진단서, 사진, CCTV, 녹음 등)"
      additional_info: "추가로 알려주실 내용이 있으신가요?"
    
    FAMILY:
      incident_date: "관련 사건이 발생한 날짜를 알려주세요."
      counterparty: "상대방은 누구인가요?"
      amount: "관련 금액은 얼마인가요? (예: 위자료, 재산분할 금액 등)"
      evidence: "관련 증거나 자료를 가지고 계신가요?"
      evidence_type: "어떤 증거나 자료를 가지고 계신가요? (예: 통장 내역, 대화내역, 사진 등)"
      additional_info: "추가로 알려주실 내용이 있으신가요?"
    
    ADMIN:
      incident_date: "행정처분이 이루어진 날짜를 알려주세요."
      counterparty: "관련 기관이나 상대방은 누구인가요?"
      amount: "관련 금액은 얼마인가요? (예: 과태료, 과징금 등)"
      evidence: "행정처분 관련 문서나 증거를 가지고 계신가요?"
      evidence_type: "어떤 문서나 증거를 가지고 계신가요? (예: 행정처분서, 통지서 등)"
      additional_info: "추가로 알려주실 내용이 있으신가요?"
```

---

## ✅ 결론

`config/questions.yaml` 파일은 전반적으로 잘 구성되어 있습니다. **사건 유형별 질문에 누락된 필드 추가**와 **질문 텍스트 일관성 개선**을 권장합니다.

**우선순위**:
1. 🟢 **낮음**: 사건 유형별 질문에 누락된 필드 추가 (선택적)
2. 🟢 **낮음**: 질문 텍스트 일관성 개선 (선택적)
3. 🟢 **낮음**: 주석 추가 (선택적)
4. 🟢 **낮음**: YAML 검증 스키마 추가 (선택적)

**참고**: 현재 구조에서 `default` 섹션의 질문이 사건 유형별 질문에 없는 필드에 대해 폴백으로 사용되므로, 기능적으로는 문제가 없습니다. 다만 일관성과 명확성을 위해 사건 유형별 질문에도 모든 필드를 포함하는 것을 권장합니다.

